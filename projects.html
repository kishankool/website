<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  <title>K DevStack</title>

  <!-- Favicon icon -->
  <link rel="icon" type="image/svg+xml" href="assets/images/code.svg" />

  <!-- google fonts -->
  <link href="//fonts.googleapis.com/css2?family=Jost:wght@300;400;600&display=swap" rel="stylesheet" />

  <!-- Template CSS -->
  <link rel="stylesheet" href="assets/css/style-starter.css" />
</head>

<body>
  <!-- header -->
  <header id="site-header" class="fixed-top">
    <div class="container">
      <nav class="navbar navbar-expand-lg stroke">
        <a class="navbar-brand" href="index">
          <span class="fa fa-code"></span>
          K <b class="mainTitle">DevStack</b>
        </a>
        <button class="navbar-toggler collapsed bg-gradient" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon fa icon-expand fa-bars"></span>
          <span class="navbar-toggler-icon fa icon-close fa-times"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item @@index__active">
              <a class="nav-link" href="index">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item @@about__active">
              <a class="nav-link" href="about">About</a>
            </li>
            <li class="nav-item active">
              <a class="nav-link" href="projects">Projects</a>
            </li>   
            <li class="nav-item @@contact__active">
              <a class="nav-link" href="contact">Contact</a>
            </li>
            <li id="statsNavItem" class="nav-item @@stats__active" style="display: none;">
              <a class="nav-link" href="stats">Stats</a>
            </li>
            <li id="logoutNavItem" class="nav-item" style="display: none;">
              <a class="nav-link" href="#" onclick="logout()">Logout</a>
            </li>
          </ul>
        </div>

        <script>
          var email = localStorage.getItem("email");
          var statsNavItem = document.getElementById("statsNavItem");
          var logoutNavItem = document.getElementById("logoutNavItem");

          if (email) {
            // Email exists, unhide the list items for stats and logout
            statsNavItem.style.display = "";
            logoutNavItem.style.display = "";
          } else {
            // Email does not exist, hide the list items for stats and logout
            statsNavItem.style.display = "none";
            logoutNavItem.style.display = "none";
          }

          function logout() {
            // Remove the email from localStorage
            localStorage.removeItem("email");

            // Perform any additional logout actions if needed

            alert("Logout Successfully");

            // Redirect the user to the desired page
            window.location.href = "index"; // Replace "index" with the appropriate page URL
          }
        </script>

        <!-- toggle switch for light and dark theme -->
        <div class="mobile-position">
          <nav class="navigation">
            <div class="theme-switch-wrapper">
              <label class="theme-switch" for="checkbox">
                <input type="checkbox" id="checkbox" />
                <div class="mode-container">
                  <i class="gg-sun"></i>
                  <i class="gg-moon"></i>
                </div>
              </label>
            </div>
          </nav>
        </div>
        <!-- //toggle switch for light and dark theme -->
      </nav>
    </div>
  </header>
  <!-- //header -->

  <!-- projects breadcrumb -->
  <section class="w3l-about-breadcrumb text-center">
    <div class="breadcrumb-bg breadcrumb-bg-about py-sm-5 py-4">
      <div class="container py-2">
        <h2 class="title">Projects</h2>
        <ul class="breadcrumbs-custom-path mt-2">
          <li><a href="index">Home</a></li>
          <li><i class="fa fa-angle-right mx-2" aria-hidden="true"></i></li>
          <li class="active">Projects</li>
        </ul>
      </div>
    </div>
  </section>
  <!-- //projects breadcrumb -->

  <!-- gallery block -->
  <section class="w3l-services">
    <div class="blog py-5" id="services">
      <div class="container py-lg-5">
        <h2 class="title-small text-center mb-4">Project Gallery</h2>
        <h3 class="title-big text-center mb-sm-5 mb-4 text-center">
          Explore some of the projects I have worked on.
        </h3>
        <div class="row gallery" id="projectGallery">
          <!-- Project items will be dynamically added here -->
        </div>
        <div class="text-center mt-4">
          <button id="showMoreBtn" class="btn btn-outline-primary btn-style">
            Show More
          </button>
        </div>
      </div>
    </div>
  </section>

  <script>
    const projectGallery = document.getElementById("projectGallery");
    const showMoreBtn = document.getElementById("showMoreBtn");
    let projects = [];

    // Fetch projects from JSON file
    fetch("projects.json")
      .then((response) => response.json())
      .then((data) => {
        projects = data.projects;
        projects.sort((a, b) => a.title.localeCompare(b.title)); // Sort projects alphabetically by title
        showProjects(startIndex, batchSize);
      })
      .catch((error) => console.error("Error loading projects:", error));

    let startIndex = 0;
    const batchSize = 6;

    function showProjects(startIndex, batchSize) {
      const endIndex = Math.min(startIndex + batchSize, projects.length);

      for (let i = startIndex; i < endIndex; i++) {
        const projectItem = createProjectItem(projects[i], i);
        projectGallery.appendChild(projectItem);
        fadeInAndFlyIn(projectItem, i);
      }

      if (endIndex === projects.length) {
        showMoreBtn.style.display = "none";
      }
    }

    function createProjectItem(project, index) {
      const projectItem = document.createElement("div");
      projectItem.classList.add("col-lg-4", "col-md-6", "mb-4");
      projectItem.style.opacity = 0;
      projectItem.style.transform = "translateY(20px)";
      projectItem.style.transition =
        "opacity 0.2s ease-in-out, transform 0.2s ease-in-out";

      // Shorten the title if it exceeds 25 characters
      let title = project.title;
      let isTitleShortened = false;
      if (title.length >= 25) {
        title = title.substr(0, 20) + "...";
        isTitleShortened = true;
      }

      // Shorten the description if it exceeds 75 characters
      let description = project.description;
      let isDescriptionShortened = false;
      if (description.length > 30) {
        description = description.substr(0, 75) + "...";
        isDescriptionShortened = true;
      }

      projectItem.innerHTML = `
        <div class="item animate-right">
          <div class="card">
            <div class="box-wrap" style="margin: 0px;">
              <div class="icon">
                <span class="fa fa-code"></span>
              </div>
              <h4 class="number">${(index + 1).toString().padStart(2, "0")}</h4>
              <h4>
                <span class="title-shortened"><a>${title}</a></span>
                ${
                  isTitleShortened
                    ? `<span class="title-full" style="display:none"><a>${project.title}</a></span>`
                    : ""
                }
              </h4>
              <p>
                <span class="description-shortened">${description}</span>
                ${
                  isDescriptionShortened
                    ? `<span class="description-full" style="display:none">${project.description}</span>`
                    : ""
                }
              </p>
              <!--<p>Owner: ${project.owner}</p>-->
              <a href="${
                project.github
              }" class="read" target="_blank">Read more</a>
            </div>
          </div>
        </div>
      `;

      // Add click event listeners to show full title and description on click
      const titleShortened = projectItem.querySelector(".title-shortened");
      const titleFull = projectItem.querySelector(".title-full");
      if (isTitleShortened) {
        titleShortened.addEventListener("click", function() {
          titleShortened.style.display = "none";
          titleFull.style.display = "inline";
        });
      }

      const descriptionShortened = projectItem.querySelector(
        ".description-shortened"
      );
      const descriptionFull = projectItem.querySelector(".description-full");
      if (isDescriptionShortened) {
        descriptionShortened.addEventListener("click", function() {
          descriptionShortened.style.display = "none";
          descriptionFull.style.display = "inline";
        });
      }

      return projectItem;
    }

    function fadeInAndFlyIn(element, index) {
      setTimeout(function() {
        element.style.opacity = 1;
        element.style.transform = "translateY(0)";
      }, index * 50);
    }

    showMoreBtn.addEventListener("click", function() {
      startIndex += batchSize;
      showProjects(startIndex, batchSize);
    });
  </script>

  <style>
    .gallery {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    }

    .item {
      transition: 0.2s ease-in-out;
    }

    .item:hover,
    .item:focus {
      border-radius: 0.625rem;
      transform: scale(1.05) rotateX(-10deg) rotateY(5deg);
      box-shadow: rgba(0, 0, 0, 0.15) 0px 2px 8px;
    }
  </style>

  <!-- //gallery block -->

  <!-- Footer -->
  <section class="w3l-footer py-sm-5 py-4">
    <div class="container">
      <div class="footer-content">
        <div class="row">
          <div class="col-lg-8 footer-left">
            <p class="m-0">
              &copy; 2023 K <b>DevStack</b>. Developed By
              <a href="index">Kishan Mishra</a>
            </p>
          </div>
          <div class="col-lg-4 footer-right text-lg-right text-center mt-lg-0 mt-3">
            <ul class="social m-0 p-0">
              <li>
                <a href="https://www.facebook.com/kishanmishra.kis" target="_blank"><span class="fa fa-facebook-square"></span></a>
              </li>
              <li>
                <a href="https://www.linkedin.com/in/kishan-mishra-3007/" target="_blank"><span class="fa fa-linkedin-square"></span></a>
              </li>
              <li>
                <a href="https://www.instagram.com/cut_it_kishan/" target="_blank"><span class="fa fa-instagram"></span></a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Scroll to top button -->
    <button onclick="topFunction()" id="movetop" title="Go to top">
      <i class="fa fa-chevron-circle-up" aria-hidden="true"></i>
    </button>
    <script>
      // Show the "scroll to top" button when the user scrolls down 20px from the top
      window.onscroll = function() {
        scrollFunction();
      };

      function scrollFunction() {
        if (
          document.body.scrollTop > 20 ||
          document.documentElement.scrollTop > 20
        ) {
          document.getElementById("movetop").style.display = "block";
        } else {
          document.getElementById("movetop").style.display = "none";
        }
      }

      // When the user clicks on the button, scroll to the top of the document
      function topFunction() {
        document.body.scrollTop = 0;
        document.documentElement.scrollTop = 0;
      }
    </script>
    <!-- /Scroll to top button -->
  </section>
  <!-- //Footer -->

  <!-- all js scripts and files here -->

  <script src="assets/js/theme-change.js"></script>
  <!-- theme switch js (light and dark)-->

  <script src="assets/js/jquery-3.3.1.min.js"></script>
  <!-- default jQuery -->

  <!-- /typig-text-->
  <script>
    // Disable right-click
    document.addEventListener("contextmenu", function(e) {
      e.preventDefault();
    });

    // Disable Ctrl key
    document.addEventListener("keydown", function(e) {
      if (e.ctrlKey) {
        e.preventDefault();
        e.stopPropagation();
        return false;
      }
    });

    // Disable F12 key
    document.addEventListener("keydown", function(e) {
      if (e.key === "F12" || e.keyCode === 123) {
        e.preventDefault();
        e.stopPropagation();
        return false;
      }
    });

    const typedTextSpan = document.querySelector(".typed-text");
    const cursorSpan = document.querySelector(".cursor");

    const textArray = [
      "Freelancer",
      "Full stack developer",
      "QA",
    ];
    const typingDelay = 200;
    const erasingDelay = 10;
    const newTextDelay = 100; // Delay between current and next text
    let textArrayIndex = 0;
    let charIndex = 0;

    function type() {
      if (charIndex < textArray[textArrayIndex].length) {
        if (!cursorSpan.classList.contains("typing"))
          cursorSpan.classList.add("typing");
        typedTextSpan.textContent +=
          textArray[textArrayIndex].charAt(charIndex);
        charIndex++;
        setTimeout(type, typingDelay);
      } else {
        cursorSpan.classList.remove("typing");
        setTimeout(erase, newTextDelay);
      }
    }

    function erase() {
      if (charIndex > 0) {
        // add class 'typing' if there's none
        if (!cursorSpan.classList.contains("typing")) {
          cursorSpan.classList.add("typing");
        }
        typedTextSpan.textContent = textArray[textArrayIndex].substring(0, 0);
        charIndex--;
        setTimeout(erase, erasingDelay);
      } else {
        cursorSpan.classList.remove("typing");
        textArrayIndex++;
        if (textArrayIndex >= textArray.length) textArrayIndex = 0;
        setTimeout(type, typingDelay);
      }
    }

    document.addEventListener("DOMContentLoaded", function() {
      // On DOM Load initiate the effect
      if (textArray.length) setTimeout(type, newTextDelay + 250);
    });
  </script>
  <!-- //typig-text-->

  <!-- services owlcarousel -->
  <script src="assets/js/owl.carousel.js"></script>

  <!-- script for services -->
  <script>
    $(document).ready(function() {
      $(".owl-two").owlCarousel({
        loop: true,
        margin: 30,
        nav: false,
        responsiveClass: true,
        autoplay: false,
        autoplayTimeout: 5000,
        autoplaySpeed: 1000,
        autoplayHoverPause: false,
        responsive: {
          0: {
            items: 1,
            nav: false,
          },
          480: {
            items: 1,
            nav: false,
          },
          700: {
            items: 1,
            nav: false,
          },
          1090: {
            items: 3,
            nav: false,
          },
        },
      });
    });
  </script>
  <!-- //script for services -->

  <!-- script for tesimonials carousel slider -->
  <script>
    $(document).ready(function() {
      $("#owl-demo1").owlCarousel({
        loop: true,
        margin: 20,
        nav: false,
        responsiveClass: true,
        responsive: {
          0: {
            items: 1,
            nav: false,
          },
          736: {
            items: 1,
            nav: false,
          },
          1000: {
            items: 2,
            nav: false,
            loop: false,
          },
        },
      });
    });
  </script>
  <!-- //script for tesimonials carousel slider -->

  <!-- video popup -->
  <script src="assets/js/jquery.magnific-popup.min.js"></script>
  <script>
    $(document).ready(function() {
      $(".popup-with-zoom-anim").magnificPopup({
        type: "inline",

        fixedContentPos: false,
        fixedBgPos: true,

        overflowY: "auto",

        closeBtnInside: true,
        preloader: false,

        midClick: true,
        removalDelay: 300,
        mainClass: "my-mfp-zoom-in",
      });

      $(".popup-with-move-anim").magnificPopup({
        type: "inline",

        fixedContentPos: false,
        fixedBgPos: true,

        overflowY: "auto",

        closeBtnInside: true,
        preloader: false,

        midClick: true,
        removalDelay: 300,
        mainClass: "my-mfp-slide-bottom",
      });
    });
  </script>
  <!-- //video popup -->

  <!-- stats number counter-->
  <script src="assets/js/jquery.waypoints.min.js"></script>
  <script src="assets/js/jquery.countup.js"></script>
  <script>
    $(".counter").countUp();
  </script>
  <!-- //stats number counter -->

  <!-- disable body scroll which navbar is in active -->
  <script>
    $(function() {
      $(".navbar-toggler").click(function() {
        $("body").toggleClass("noscroll");
      });
    });
  </script>
  <!-- disable body scroll which navbar is in active -->

  <!--/MENU-JS-->
  <script>
    $(window).on("scroll", function() {
      var scroll = $(window).scrollTop();

      if (scroll >= 80) {
        $("#site-header").addClass("nav-fixed");
      } else {
        $("#site-header").removeClass("nav-fixed");
      }
    });

    //Main navigation Active Class Add Remove
    $(".navbar-toggler").on("click", function() {
      $("header").toggleClass("active");
    });
    $(document).on("ready", function() {
      if ($(window).width() > 991) {
        $("header").removeClass("active");
      }
      $(window).on("resize", function() {
        if ($(window).width() > 991) {
          $("header").removeClass("active");
        }
      });
    });
  </script>
  <!--//MENU-JS-->

  <!-- bootstrap js -->
  <script src="assets/js/bootstrap.min.js"></script>
</body>

</html>